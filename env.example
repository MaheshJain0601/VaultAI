# ===========================================
# Vault AI - Environment Configuration
# ===========================================

# ----- Database Configuration -----
# Supabase Database Connection
# Get your password from: Supabase Dashboard > Settings > Database > Database password
# Get your region from: Supabase Dashboard > Settings > General (e.g., ap-south-1, us-east-1)
# IMPORTANT: URL-encode special characters in password (e.g., / = %2F, @ = %40, ? = %3F, * = %2A)

# Async connection (for FastAPI) - MUST use "postgresql+asyncpg://"
# Password special chars must be URL-encoded: / = %2F, @ = %40, ? = %3F, * = %2A
DATABASE_URL=your-database-url

# Sync connection (for Celery) - MUST use "postgresql+psycopg2://"
SYNC_DATABASE_URL=your-database-url

# Supabase Configuration (optional - for additional features)
SUPABASE_URL=https://your-host.supabase.co
SUPABASE_KEY=supabase-key
SUPABASE_SERVICE_KEY=supabase-key

# ----- Redis Configuration -----
REDIS_URL=redis://localhost:6379/0
# For cloud Redis (e.g., Upstash, Redis Cloud):
# REDIS_URL=rediss://default:your-password@your-redis-host:6379

# ----- Google Gemini AI Configuration -----
# Get your API key from: https://aistudio.google.com/apikey
GOOGLE_API_KEY=your-google-key

# ----- Local Storage Configuration -----
# Documents are stored locally on the filesystem
STORAGE_PATH=./storage/documents

# ----- Application Settings -----
APP_NAME=Vault AI
APP_VERSION=1.0.0
DEBUG=true
LOG_LEVEL=INFO

# ----- Processing Settings -----
MAX_FILE_SIZE_MB=50
ALLOWED_EXTENSIONS=pdf,docx,txt,md
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# ----- AI Model Settings (Google Gemini) -----
EMBEDDING_MODEL=models/text-embedding-004
CHAT_MODEL=gemini-2.0-flash
MAX_CONTEXT_TOKENS=4000
TEMPERATURE=0.1

# ----- Rate Limiting -----
# Maximum number of LLM API requests per minute (to avoid quota exceeded errors)
# Adjust based on your API tier: Free tier ~10-15, Paid tier can be higher
LLM_REQUESTS_PER_MINUTE=10

# ----- Feature Flags -----
ENABLE_PGVECTOR=true

# ----- Database Reset (DANGEROUS - Use with caution!) -----
# When enabled, ALL database tables will be dropped and recreated on startup
# This deletes ALL data! Only use in development or for fresh starts
RESET_DB_ON_STARTUP=false
